<div class="modal-header">
    <h4 class="modal-title pull-left">{{title}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body">
    <form autocomplete="off" #registerForm="ngForm" id="registerForm">
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="code">Código</label>
                <input type="text" class="form-control" id="code" autocomplete="off"
                    name="code" [(ngModel)]="sensorType.code" maxlength="64" required>
            </div>
            <div class="form-group col-md-8">
                <label for="description">Descripción</label>
                <input type="text" class="form-control" id="description" autocomplete="off"
                    name="description" [(ngModel)]="sensorType.description" maxlength="500">
            </div>

             <!-- Categoría -->
            <div class="form-group col-md-6">
                <label for="category">Categoría</label>
                <select class="custom-select" id="category" name="category" [(ngModel)]="sensorType.category.id">
                    <option value="0"selected>Selecciona una categoría</option>
                    <option [value]="sensorCategory.id" *ngFor="let sensorCategory of sensorCategoriesMasterTable" [title]="sensorCategory.description">
                        {{sensorCategory.category}} - {{sensorCategory.description}}
                    </option>
                </select>
            </div>

            <div class="form-group col-md-6">
                <label for="manufacturer">Fabricante</label>
                <input type="text" class="form-control" id="manufacturer" autocomplete="off"
                    name="manufacturer" [(ngModel)]="sensorType.manufacturer" maxlength="512">  
            </div>

            <div class="form-group col-md-12">
                <label for="url">URL</label>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" id="url" name="url" [(ngModel)]="sensorType.url" maxlength="500" autocomplete="off">
                    <div class="input-group-append" *ngIf="sensorType.url">
                        <a role="button" class="btn btn-outline-secondary" [href]="sensorType.url" target="_blank"><i class="bi bi-link-45deg"></i></a>
                    </div>
                </div>
            </div>
        </div>

        <hr *ngIf="sensorType.id">

        <div class="form-row" *ngIf="sensorType.id">
            <div class="form-group col-md-3">
                <label for="inputRegisterUser">Fecha de creación</label>
                <input type="text" class="form-control" disabled name="inputRegisterUser" [value]="sensorType.dateCreated | date: 'dd/MM/yyyy'">
            </div>
            <div class="form-group col-md-3">
                <label for="inputRegisterUser">Autor</label>
                <input type="text" class="form-control" disabled name="inputRegisterUser" [value]="sensorType.createdUser?sensorType.createdUser.username:''">
            </div>
            <div class="form-group col-md-3">
                <label for="inputRegisterUser">Fecha de última modificación</label>
                <input type="text" class="form-control" disabled name="inputRegisterUser" [value]="sensorType.dateLastModified | date: 'dd/MM/yyyy'">
            </div>
            <div class="form-group col-md-3">
                <label for="inputRegisterUser">Modificado por</label>
                <input type="text" class="form-control" disabled name="inputRegisterUser" [value]="sensorType.lastModifieduser?sensorType.lastModifieduser.username:''">
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="decline()">Cancelar</button>
    <button type="button" class="btn btn-default" (click)="confirm()">Aceptar</button>
</div>